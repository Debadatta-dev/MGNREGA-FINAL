import{j as e,C as W,a as D,L as A,P,b as F,B as N,p as G,c as I,d as _,e as H,f as Y}from"./chart-vendor-DsrZt2bR.js";import{a as O,u as E,r as u,R as M,B as $,b as U,c as v,d as K,L as R}from"./react-vendor-D5UQMrqY.js";import{E as V,a as q}from"./pdf-vendor-s7AxOiJM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))h(r);new MutationObserver(r=>{for(const p of r)if(p.type==="childList")for(const a of p.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&h(a)}).observe(document,{childList:!0,subtree:!0});function l(r){const p={};return r.integrity&&(p.integrity=r.integrity),r.referrerPolicy&&(p.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?p.credentials="include":r.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function h(r){if(r.ep)return;r.ep=!0;const p=l(r);fetch(r.href,p)}})();var z,B=O;z=B.createRoot,B.hydrateRoot;function X(){const o=E();return e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #3498db 0%, #2980b9 100%)",color:"white",padding:"60px 40px",borderRadius:"8px",marginBottom:"40px",textAlign:"center",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h1",{style:{fontSize:"48px",marginBottom:"16px",fontWeight:"bold"},children:"ðŸ›ï¸ MGNREGA Dashboard"}),e.jsx("p",{style:{fontSize:"18px",marginBottom:"30px",opacity:.9},children:"Mahatma Gandhi National Rural Employment Guarantee Act (MGNREGA) - District Performance Visualization"}),e.jsx("button",{onClick:()=>o("/dashboard"),style:{padding:"12px 30px",backgroundColor:"white",color:"#3498db",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"600",fontSize:"16px",transition:"all 0.3s ease"},onMouseEnter:t=>{t.target.style.transform="translateY(-2px)",t.target.style.boxShadow="0 6px 12px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.target.style.transform="translateY(0)",t.target.style.boxShadow="none"},children:"Access Dashboard â†’"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"40px"},children:[e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #3498db",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{color:"#3498db",marginBottom:"12px"},children:"ðŸ“Š Smart Filtering"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.6"},children:"Filter and search district-wise data by state and district with real-time updates"})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #e74c3c",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{color:"#e74c3c",marginBottom:"12px"},children:"ðŸ“ˆ Performance Charts"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.6"},children:"Visualize performance metrics with interactive line and bar charts"})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #27ae60",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{color:"#27ae60",marginBottom:"12px"},children:"ðŸ“¥ PDF Export"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.6"},children:"Export filtered data to professional PDF reports with formatting"})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #f39c12",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{color:"#f39c12",marginBottom:"12px"},children:"ðŸ”„ Real-time Data"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.6"},children:"Access real-time updates from the official MGNREGA backend server"})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #9b59b6",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{color:"#9b59b6",marginBottom:"12px"},children:"ðŸŒ Responsive Design"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.6"},children:"Works seamlessly on desktop, tablet, and mobile devices"})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #1abc9c",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-5px)",t.currentTarget.style.boxShadow="0 8px 16px rgba(0, 0, 0, 0.15)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{color:"#1abc9c",marginBottom:"12px"},children:"ðŸ” Secure & Fast"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.6"},children:"Built with modern technologies ensuring security and performance"})]})]}),e.jsxs("div",{style:{backgroundColor:"#ecf0f1",padding:"30px",borderRadius:"8px",marginBottom:"40px"},children:[e.jsx("h2",{style:{marginBottom:"16px",color:"#2c3e50"},children:"About MGNREGA"}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.8",marginBottom:"12px"},children:"MGNREGA is a public works program that guarantees the right to work for rural citizens of India. It was enacted in 2005 and aims to enhance livelihood security and to reduce rural-urban migration."}),e.jsx("p",{style:{color:"#7f8c8d",lineHeight:"1.8"},children:"This dashboard provides comprehensive data visualization and analysis tools to track MGNREGA project performance across different districts in India."})]}),e.jsxs("div",{style:{backgroundColor:"#34495e",color:"white",padding:"40px",borderRadius:"8px",textAlign:"center"},children:[e.jsx("h2",{style:{marginBottom:"16px"},children:"Ready to explore the data?"}),e.jsx("p",{style:{marginBottom:"20px",opacity:.9},children:"Start filtering and analyzing MGNREGA project data by district"}),e.jsx("button",{onClick:()=>o("/dashboard"),style:{padding:"12px 30px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"600",fontSize:"16px",transition:"all 0.3s ease"},onMouseEnter:t=>{t.target.style.backgroundColor="#2980b9",t.target.style.transform="translateY(-2px)"},onMouseLeave:t=>{t.target.style.backgroundColor="#3498db",t.target.style.transform="translateY(0)"},children:"Go to Dashboard â†’"})]})]})}function Z({onChange:o,baseUrl:t}){const l=t||"https://mgnrega-final-1-eaft.onrender.com",[h,r]=u.useState([]),[p,a]=u.useState([]),[g,d]=u.useState([]),[i,x]=u.useState(""),[n,s]=u.useState(""),[f,j]=u.useState(!1),[k,y]=u.useState("");u.useEffect(()=>{async function c(){j(!0),y("");try{const m=await fetch(`${l}/api/filters`),w=await m.json();if(!m.ok)console.error("/api/filters error:",w),y(w.error||"Failed to load filters"),r([]),a([]);else{const S=w.records??w;if(!Array.isArray(S))console.error("/api/filters returned unexpected shape:",w),y("Unexpected filter response"),r([]),a([]);else{r(S);const C=Array.from(new Set(S.map(L=>L.state_name).filter(Boolean))).sort();a(C)}}}catch(m){console.error("Failed fetch /api/filters:",m),y("Network error while loading filters"),r([]),a([])}finally{j(!1)}}c()},[l]),u.useEffect(()=>{if(!i){d([]),s(""),o&&o({state:"",district:""});return}const c=Array.from(new Set(h.filter(m=>m.state_name===i).map(m=>m.district_name).filter(Boolean))).sort();d(c),s(""),o&&o({state:i,district:""})},[i,h,o]),u.useEffect(()=>{o&&o({state:i,district:n})},[n,i,o]);const b=()=>{x(""),s(""),d([]),o&&o({state:"",district:""})};return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"12px"},children:[f&&e.jsx("span",{style:{color:"#3498db",fontWeight:"500"},children:"â³ Loading filters..."}),k&&e.jsxs("span",{style:{color:"#e74c3c",fontWeight:"500"},children:["âŒ Error: ",k]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"flex-end"},children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"state-select",style:{display:"block",marginBottom:"6px",fontWeight:"500"},children:"State"}),e.jsxs("select",{id:"state-select",value:i,onChange:c=>x(c.target.value),disabled:f||h.length===0,style:{minWidth:"200px",padding:"8px 12px",border:"1px solid #bdc3c7",borderRadius:"4px",fontSize:"14px"},children:[e.jsx("option",{value:"",children:"-- Select State --"}),p.map(c=>e.jsx("option",{value:c,children:c},c))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"district-select",style:{display:"block",marginBottom:"6px",fontWeight:"500"},children:"District"}),e.jsxs("select",{id:"district-select",value:n,onChange:c=>s(c.target.value),disabled:!g.length||f,style:{minWidth:"200px",padding:"8px 12px",border:"1px solid #bdc3c7",borderRadius:"4px",fontSize:"14px",backgroundColor:g.length?"white":"#ecf0f1",cursor:g.length?"pointer":"not-allowed"},children:[e.jsx("option",{value:"",children:"-- Select District --"}),g.map(c=>e.jsx("option",{value:c,children:c},c))]})]}),e.jsx("button",{onClick:b,style:{padding:"8px 16px",backgroundColor:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500",transition:"background-color 0.3s ease"},onMouseEnter:c=>c.target.style.backgroundColor="#7f8c8d",onMouseLeave:c=>c.target.style.backgroundColor="#95a5a6",children:"ðŸ”„ Reset Filters"})]}),i&&n&&e.jsxs("div",{style:{marginTop:"12px",padding:"8px 12px",backgroundColor:"#d5f4e6",color:"#27ae60",borderRadius:"4px",fontSize:"14px"},children:["âœ“ Showing data for ",n,", ",i]})]})}function J({data:o=[]}){const[t,l]=u.useState({key:null,order:"asc"});if(!Array.isArray(o)||o.length===0)return e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#7f8c8d",backgroundColor:"#ecf0f1",borderRadius:"4px"},children:[e.jsx("p",{style:{fontSize:"16px",margin:0},children:"ðŸ“Š No records to display"}),e.jsx("p",{style:{fontSize:"12px",margin:"8px 0 0 0"},children:"Try adjusting your filters or check your connection"})]});const r=Array.from(new Set(o.flatMap(d=>Object.keys(d)))).sort().filter(d=>!d.startsWith("_")&&!["id","createdAt","updatedAt","__v"].includes(d.toLowerCase())),p=M.useMemo(()=>t.key?[...o].sort((i,x)=>{const n=i[t.key],s=x[t.key];if(n==null&&s==null)return 0;if(n==null)return t.order==="asc"?1:-1;if(s==null)return t.order==="asc"?-1:1;if(typeof n=="number"&&typeof s=="number")return t.order==="asc"?n-s:s-n;const f=String(n).toLowerCase(),j=String(s).toLowerCase();return t.order==="asc"?f.localeCompare(j):j.localeCompare(f)}):o,[o,t]),a=d=>{l({key:d,order:t.key===d&&t.order==="asc"?"desc":"asc"})},g=d=>t.key!==d?" â‡…":t.order==="asc"?" â†‘":" â†“";return e.jsx("div",{style:{overflowX:"auto",borderRadius:"4px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white"},children:[e.jsx("thead",{children:e.jsx("tr",{style:{backgroundColor:"#34495e",color:"white"},children:r.map(d=>e.jsxs("th",{onClick:()=>a(d),style:{padding:"12px",textAlign:"left",fontWeight:"600",cursor:"pointer",userSelect:"none",transition:"background-color 0.2s ease"},onMouseEnter:i=>i.currentTarget.style.backgroundColor="#2c3e50",onMouseLeave:i=>i.currentTarget.style.backgroundColor="#34495e",title:`Click to sort by ${d}`,children:[d.replace(/_/g," ").toUpperCase(),e.jsx("span",{style:{fontSize:"12px",opacity:.7},children:g(d)})]},d))})}),e.jsx("tbody",{children:p.map((d,i)=>e.jsx("tr",{style:{backgroundColor:i%2===0?"white":"#f8f9fa",borderBottom:"1px solid #ecf0f1"},onMouseEnter:x=>x.currentTarget.style.backgroundColor=i%2===0?"#f0f3f4":"#e8ebee",onMouseLeave:x=>x.currentTarget.style.backgroundColor=i%2===0?"white":"#f8f9fa",children:r.map(x=>{const n=d[x];let s=n??"-";if(typeof n=="number"&&(s=n.toLocaleString("en-IN")),n instanceof Date||/^\d{4}-\d{2}-\d{2}/.test(String(n)))try{s=new Date(n).toLocaleDateString("en-IN")}catch{}return e.jsx("td",{title:String(s),style:{padding:"12px",color:"#2c3e50",maxWidth:"250px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s},x+i)})},i))})]})})}W.register(D,A,P,F,N,G,I,_);function Q({records:o=[]}){const[t,l]=u.useState(null),[h,r]=u.useState("line");if(u.useEffect(()=>{if(!o||o.length===0)return;const a=o.filter(n=>n.total_works!==void 0&&n.total_works!==null).sort((n,s)=>(s.total_works||0)-(n.total_works||0)).slice(0,10);if(a.length===0)return;const g=a.map(n=>n.district_name||"Unknown"),d=a.map(n=>n.total_works||0),i=a.map(n=>n.total_workers||0),x=a.map(n=>n.total_budget||0);l({labels:g,datasets:[{label:"Total Works",data:d,borderColor:"#3498db",backgroundColor:"rgba(52, 152, 219, 0.1)",borderWidth:2.5,tension:.4,fill:!0,pointRadius:5,pointBackgroundColor:"#3498db",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:7},{label:"Total Workers",data:i,borderColor:"#e74c3c",backgroundColor:"rgba(231, 76, 60, 0.1)",borderWidth:2.5,tension:.4,fill:!0,pointRadius:5,pointBackgroundColor:"#e74c3c",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:7},{label:"Total Budget (Crores)",data:x.map(n=>typeof n=="number"?n/1e6:0),borderColor:"#27ae60",backgroundColor:"rgba(39, 174, 96, 0.1)",borderWidth:2.5,tension:.4,fill:!0,pointRadius:5,pointBackgroundColor:"#27ae60",pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:7}]})},[o]),!t)return e.jsx("div",{style:{textAlign:"center",padding:"40px 20px",color:"#7f8c8d",backgroundColor:"#ecf0f1",borderRadius:"4px"},children:e.jsx("p",{style:{fontSize:"16px",margin:0},children:"ðŸ“Š No data available for charts"})});const p={responsive:!0,maintainAspectRatio:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{font:{size:12,weight:"500"},padding:15,usePointStyle:!0,boxWidth:8}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"bold"},bodyFont:{size:12},borderColor:"rgba(255, 255, 255, 0.3)",borderWidth:1,displayColors:!0}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!0},ticks:{font:{size:11},callback:a=>a>=1e6?(a/1e6).toFixed(1)+"M":a>=1e3?(a/1e3).toFixed(1)+"K":a}},x:{grid:{display:!1},ticks:{font:{size:11}}}}};return e.jsxs("div",{children:[e.jsxs("div",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>r("line"),style:{padding:"8px 16px",backgroundColor:h==="line"?"#3498db":"#bdc3c7",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500",transition:"all 0.3s ease"},children:"ðŸ“ˆ Line Chart"}),e.jsx("button",{onClick:()=>r("bar"),style:{padding:"8px 16px",backgroundColor:h==="bar"?"#3498db":"#bdc3c7",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500",transition:"all 0.3s ease"},children:"ðŸ“Š Bar Chart"})]}),h==="line"&&e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"4px",marginBottom:"30px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{marginBottom:"15px"},children:"Top 10 Districts - Performance Comparison (Line Chart)"}),e.jsx(H,{data:t,options:p})]}),h==="bar"&&e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"4px",marginBottom:"30px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{style:{marginBottom:"15px"},children:"Top 10 Districts - Performance Comparison (Bar Chart)"}),e.jsx(Y,{data:t,options:p})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[e.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px",textAlign:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #3498db"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#7f8c8d",marginBottom:"8px"},children:"Total Works"}),e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#3498db"},children:t.datasets[0].data.reduce((a,g)=>a+g,0).toLocaleString("en-IN")})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px",textAlign:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #e74c3c"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#7f8c8d",marginBottom:"8px"},children:"Total Workers"}),e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#e74c3c"},children:t.datasets[1].data.reduce((a,g)=>a+g,0).toLocaleString("en-IN")})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"4px",textAlign:"center",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderLeft:"4px solid #27ae60"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#7f8c8d",marginBottom:"8px"},children:"Total Budget"}),e.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#27ae60"},children:["â‚¹",t.datasets[2].data.reduce((a,g)=>a+g,0).toLocaleString("en-IN",{maximumFractionDigits:0})]})]})]})]})}const ee=({data:o=[]})=>{const[t,l]=u.useState(!1),h=async()=>{if(!o||o.length===0){alert("No data to export");return}l(!0);try{const r=new V("l","mm","a4"),p=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight();r.setFillColor(44,62,80),r.rect(0,0,p,20,"F"),r.setTextColor(255,255,255),r.setFontSize(16),r.setFont("helvetica","bold"),r.text("MGNREGA District Performance Report",14,12),r.setTextColor(100,100,100),r.setFontSize(9),r.setFont("helvetica","normal"),r.text(`Generated: ${new Date().toLocaleString("en-IN")}`,p-60,12),r.text(`Records: ${o.length}`,p-60,17);const g=Object.keys(o[0]||{}).filter(x=>!x.startsWith("_")&&!["id","createdAt","updatedAt","__v"].includes(x.toLowerCase())).sort(),d=o.map(x=>g.map(n=>{const s=x[n];if(typeof s=="number")return s>1e6?(s/1e6).toFixed(2)+"M":s>1e3?(s/1e3).toFixed(1)+"K":s.toLocaleString("en-IN");if(s instanceof Date||/^\d{4}-\d{2}-\d{2}/.test(String(s)))try{return new Date(s).toLocaleDateString("en-IN")}catch{return String(s)}return String(s||"-").substring(0,50)}));q(r,{head:[g.map(x=>x.replace(/_/g," ").toUpperCase())],body:d,startY:25,theme:"grid",margin:{top:25,right:10,bottom:10,left:10},headerStyles:{fillColor:[52,152,219],textColor:[255,255,255],fontStyle:"bold",fontSize:10,font:"helvetica",cellPadding:4},bodyStyles:{textColor:[50,50,50],fontSize:8,font:"helvetica",cellPadding:3},alternateRowStyles:{fillColor:[248,249,250]},rowPageBreak:"avoid",didDrawPage:x=>{const n=r.internal.pages.length-1,s=r.internal.pageSize,f=s.getHeight(),j=s.getWidth();r.setTextColor(150),r.setFontSize(8),r.text(`Page ${x.pageNumber} of ${n}`,j/2,f-10,{align:"center"}),r.text("MGNREGA Dashboard",10,f-10)}});const i=`mgnrega-report-${new Date().toISOString().split("T")[0]}.pdf`;r.save(i),alert(`âœ“ PDF exported successfully as ${i}`)}catch(r){console.error("PDF export error:",r),alert("Error exporting PDF. Check console for details.")}finally{l(!1)}};return e.jsx("button",{onClick:h,disabled:t||!o||o.length===0,style:{padding:"8px 16px",backgroundColor:t?"#95a5a6":"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:t?"not-allowed":"pointer",fontWeight:"500",fontSize:"14px",transition:"background-color 0.3s ease",opacity:t?.7:1},onMouseEnter:r=>{!t&&o&&o.length>0&&(r.target.style.backgroundColor="#229954")},onMouseLeave:r=>{!t&&o&&o.length>0&&(r.target.style.backgroundColor="#27ae60")},title:!o||o.length===0?"No data to export":"Click to export data as PDF",children:t?"â³ Exporting...":"ðŸ“¥ Export to PDF"})},T="https://mgnrega-final-1-eaft.onrender.com";function te(){const[o,t]=u.useState({state:"",district:""}),[l,h]=u.useState([]),[r,p]=u.useState(0),a=10,[g,d]=u.useState(!1),[i,x]=u.useState(""),[n,s]=u.useState(0),f=u.useCallback(({state:b,district:c})=>{t({state:b,district:c}),p(0)},[]);u.useEffect(()=>{async function b(){d(!0),x("");try{const c=new URLSearchParams;c.set("limit",a),c.set("offset",r*a),o.state&&c.set("state",o.state),o.district&&c.set("district",o.district);const m=`${T}/api/data?${c.toString()}`,w=await fetch(m),S=await w.json();if(!w.ok)console.error("API responded with error:",S),x(S.error||"API returned an error"),h([]),s(0);else{const C=S.records??S;Array.isArray(C)?(h(C),s(S.total||C.length)):(h([]),s(0))}}catch(c){console.error("Fetch error:",c),x("Failed to load data (network or server error)"),h([]),s(0)}finally{d(!1)}}b()},[o,r]);const j=()=>{p(b=>Math.max(0,b-1))},k=()=>{l.length===a&&p(b=>b+1)},y=l.length===a;return e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsx("h1",{style:{marginBottom:"8px",color:"#2c3e50"},children:"ðŸ“Š MGNREGA Dashboard"}),e.jsx("p",{style:{color:"#7f8c8d"},children:"Explore district-wise performance metrics and data visualization"})]}),e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #3498db"},children:[e.jsx("h2",{style:{marginBottom:"16px",fontSize:"18px",color:"#2c3e50"},children:"Filters"}),e.jsx(Z,{onChange:f,baseUrl:T})]}),g&&e.jsxs("div",{style:{backgroundColor:"#d6eaf8",color:"#2c5aa0",padding:"16px",borderRadius:"4px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"18px"},children:"â³"}),e.jsx("span",{children:"Loading data..."})]}),i&&e.jsxs("div",{style:{backgroundColor:"#fadbd8",color:"#922b21",padding:"16px",borderRadius:"4px",marginBottom:"20px",borderLeft:"4px solid #c0392b",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("span",{style:{fontSize:"18px"},children:"âŒ"}),e.jsx("span",{children:i})]}),!g&&!i&&l.length>0&&e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h2",{style:{marginBottom:"20px",fontSize:"18px",color:"#2c3e50"},children:"Performance Visualization"}),e.jsx(Q,{records:l})]}),!g&&!i&&l.length>0&&e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("h2",{style:{fontSize:"18px",color:"#2c3e50",margin:0},children:"District Data"}),e.jsx(ee,{data:l})]}),e.jsx(J,{data:l})]}),!g&&!i&&l.length===0&&e.jsxs("div",{style:{backgroundColor:"white",padding:"60px 20px",borderRadius:"8px",marginBottom:"30px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",color:"#7f8c8d"},children:[e.jsx("p",{style:{fontSize:"48px",margin:"0 0 16px 0"},children:"ðŸ“­"}),e.jsx("p",{style:{fontSize:"16px",margin:"0 0 8px 0",fontWeight:"500"},children:"No records to display"}),e.jsx("p",{style:{fontSize:"14px",margin:0},children:"Try adjusting your filters or check your connection"})]}),!g&&!i&&l.length>0&&e.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("button",{onClick:j,disabled:r===0,style:{padding:"8px 16px",backgroundColor:r===0?"#bdc3c7":"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:r===0?"not-allowed":"pointer",fontWeight:"500",transition:"background-color 0.3s ease",opacity:r===0?.6:1},onMouseEnter:b=>{r!==0&&(b.target.style.backgroundColor="#2980b9")},onMouseLeave:b=>{r!==0&&(b.target.style.backgroundColor="#3498db")},children:"â† Previous"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",minWidth:"200px",justifyContent:"center"},children:[e.jsxs("span",{style:{fontWeight:"500",color:"#2c3e50"},children:["Page ",r+1]}),n>0&&e.jsxs("span",{style:{color:"#7f8c8d",fontSize:"12px"},children:["(",n," total records)"]})]}),e.jsx("button",{onClick:k,disabled:!y,style:{padding:"8px 16px",backgroundColor:y?"#3498db":"#bdc3c7",color:"white",border:"none",borderRadius:"4px",cursor:y?"pointer":"not-allowed",fontWeight:"500",transition:"background-color 0.3s ease",opacity:y?1:.6},onMouseEnter:b=>{y&&(b.target.style.backgroundColor="#2980b9")},onMouseLeave:b=>{y&&(b.target.style.backgroundColor="#3498db")},children:"Next â†’"})]})]})}function re(){const o=E();return e.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"80px 20px",borderRadius:"8px",textAlign:"center",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{style:{fontSize:"64px",marginBottom:"20px"},children:"ðŸ”"}),e.jsx("h1",{style:{fontSize:"48px",color:"#e74c3c",marginBottom:"16px"},children:"404"}),e.jsx("h2",{style:{color:"#2c3e50",marginBottom:"12px"},children:"Page Not Found"}),e.jsxs("p",{style:{color:"#7f8c8d",marginBottom:"30px",fontSize:"16px",lineHeight:"1.6"},children:["Sorry, the page you're looking for doesn't exist or has been moved.",e.jsx("br",{}),"Please navigate using the menu or go back to the home page."]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>o("/"),style:{padding:"12px 24px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500",fontSize:"14px",transition:"background-color 0.3s ease"},onMouseEnter:t=>t.target.style.backgroundColor="#2980b9",onMouseLeave:t=>t.target.style.backgroundColor="#3498db",children:"â† Go to Home"}),e.jsx("button",{onClick:()=>o("/dashboard"),style:{padding:"12px 24px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500",fontSize:"14px",transition:"background-color 0.3s ease"},onMouseEnter:t=>t.target.style.backgroundColor="#229954",onMouseLeave:t=>t.target.style.backgroundColor="#27ae60",children:"Go to Dashboard â†’"})]})]})})}function oe(){const o=K(),t=l=>o.pathname===l;return e.jsx("nav",{style:{backgroundColor:"#2c3e50",padding:"0",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",marginBottom:"20px",stickyPosition:"sticky",top:0,zIndex:100},children:e.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0",display:"flex",justifyContent:"space-between",alignItems:"center",height:"60px"},children:[e.jsxs(R,{to:"/",style:{color:"white",textDecoration:"none",fontWeight:"bold",fontSize:"18px",padding:"0 20px",display:"flex",alignItems:"center",gap:"8px"},title:"Go to Home",children:[e.jsx("span",{style:{fontSize:"24px"},children:"ðŸ›ï¸"}),"MGNREGA"]}),e.jsxs("ul",{style:{listStyle:"none",display:"flex",gap:"0",margin:"0",padding:"0",height:"100%",alignItems:"center"},children:[e.jsx("li",{children:e.jsx(R,{to:"/",style:{color:t("/")?"#3498db":"white",textDecoration:"none",padding:"20px",display:"flex",alignItems:"center",height:"100%",transition:"background-color 0.3s ease, color 0.3s ease",backgroundColor:t("/")?"rgba(52, 152, 219, 0.1)":"transparent",borderBottom:t("/")?"3px solid #3498db":"3px solid transparent",fontWeight:t("/")?"600":"500"},onMouseEnter:l=>{t("/")||(l.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:l=>{t("/")||(l.currentTarget.style.backgroundColor="transparent")},children:"Home"})}),e.jsx("li",{children:e.jsx(R,{to:"/dashboard",style:{color:t("/dashboard")?"#3498db":"white",textDecoration:"none",padding:"20px",display:"flex",alignItems:"center",height:"100%",transition:"background-color 0.3s ease, color 0.3s ease",backgroundColor:t("/dashboard")?"rgba(52, 152, 219, 0.1)":"transparent",borderBottom:t("/dashboard")?"3px solid #3498db":"3px solid transparent",fontWeight:t("/dashboard")?"600":"500"},onMouseEnter:l=>{t("/dashboard")||(l.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.1)")},onMouseLeave:l=>{t("/dashboard")||(l.currentTarget.style.backgroundColor="transparent")},children:"Dashboard"})})]})]})})}function ne(){return e.jsxs($,{children:[e.jsx(oe,{}),e.jsxs(U,{children:[e.jsx(v,{path:"/",element:e.jsx(X,{})}),e.jsx(v,{path:"/dashboard",element:e.jsx(te,{})}),e.jsx(v,{path:"*",element:e.jsx(re,{})})]})]})}z(document.getElementById("root")).render(e.jsx(M.StrictMode,{children:e.jsx(ne,{})}));
